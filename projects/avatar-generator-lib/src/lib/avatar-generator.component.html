<div class="container">
  <div class="content">
    <div class="avatar">
      <app-avatar
        #avatar
        (avatarChanged)="prepareLink()"
        [clothing]="clothing.name"
        [clothingGraphic]="clothingGraphic.name"
        [colors]="getColorsObject()"
        [hairType]="hairType.name"
        [eyebrowType]="eyebrowType.name"
        [eyeType]="eyeType.name"
        [noseType]="noseType.name"
        [mouthType]="mouthType.name"
        [facialHairType]="facialHairType.name"
        [glassesType]="glassesType.name"
        [shape]="shape"
        [enableBackground]="enableBackground"
        [enableFace]="enableFace"
      >
      </app-avatar>
      <div class="box all-random">
        <!-- random all thing  -->
        <button (click)="goCompletelyRandom()">
          <div class="random"></div>
          {{ texts.everything }}
        </button>
        <!-- random all color -->
        <button (click)="getRandomColors()">
          <div class="random"></div>
          {{ texts.allColors }}
        </button>
        <ng-container *ngIf="enableBackground">
          <h4>{{ texts.background }}</h4>
          <input type="color" [(ngModel)]="colors.background" />
          <!-- random background -->
          <button (click)="colors.background = randomizeColor()">
            <div class="random small"></div>
          </button>
        </ng-container>
      </div>
    </div>

    <div class="config-pannel-header">
      <div class="box flex">
        <div
          id="skin-header"
          class="avatar-header"
          (click)="manageDisplayHeader(skin)"
        >
          <h3>{{ texts.skin }}</h3>
        </div>
        <div
          id="hair-header"
          class="avatar-header isActive"
          (click)="manageDisplayHeader(hair)"
        >
          <h3>{{ texts.hair }}</h3>
        </div>
        <div
          id="clothes-header"
          class="avatar-header"
          (click)="manageDisplayHeader(clothes)"
        >
          <h3>{{ texts.clothes }}</h3>
        </div>
        <div
          id="face-header"
          class="avatar-header"
          (click)="manageDisplayHeader(face)"
        >
          <h3>{{ texts.face }}</h3>
        </div>
      </div>
    </div>
  </div>
  <div class="avatar-config-pannel">
    <div class="config-pannel">
      <div *ngIf="displaySkin">
        <div class="flex">
          <input type="color" [(ngModel)]="colors.skin" />
          <button (click)="colors.skin = randomizeColor()">
            <div class="random small"></div>
          </button>
        </div>
      </div>

      <div *ngIf="displayHair" class="box">
        <div class="flex-column">
          <div>
            <div><span>color</span></div>
            <input type="color" [(ngModel)]="colors.hair" />
            <button (click)="colors.hair = randomizeColor()">
              <div class="random small"></div>
            </button>
          </div>
          <div class="flex-column">
            <div>
              <span class="iteration"
                >{{ texts.hairStyle }} {{ hairType.index }}</span
              >
            </div>
            <div class="flex-column">
              <div>
                <button (click)="iterateOverHairTypes(false)" class="iterate">
                  <
                </button>
                <button (click)="iterateOverHairTypes(true)" class="iterate">
                  >
                </button>
              </div>
              <div>
                <button (click)="getRandomHairStyle()">
                  <div class="random small"></div>
                </button>
              </div>
            </div>
            <div class="avatar-choice">
              <app-svg-icon folder="hair" name="big"></app-svg-icon>
              <app-svg-icon folder="hair" name="bob"></app-svg-icon>
              <app-svg-icon folder="hair" name="bun"></app-svg-icon>
              <app-svg-icon folder="hair" name="ceasar"></app-svg-icon>
              <app-svg-icon folder="hair" name="ceasarandside"></app-svg-icon>
              <app-svg-icon folder="hair" name="curvy"></app-svg-icon>
              <app-svg-icon folder="hair" name="dreads01"></app-svg-icon>
              <app-svg-icon folder="hair" name="dreads02"></app-svg-icon>
              <app-svg-icon folder="hair" name="dreads03"></app-svg-icon>
              <app-svg-icon folder="hair" name="frida"></app-svg-icon>
              <app-svg-icon folder="hair" name="frizzle"></app-svg-icon>
              <app-svg-icon folder="hair" name="fro"></app-svg-icon>
              <app-svg-icon folder="hair" name="froandband"></app-svg-icon>
              <app-svg-icon folder="hair" name="longnottoolong"></app-svg-icon>
              <app-svg-icon folder="hair" name="miawallace"></app-svg-icon>
              <app-svg-icon folder="hair" name="shavedsides"></app-svg-icon>
              <app-svg-icon folder="hair" name="shortround"></app-svg-icon>
              <app-svg-icon folder="hair" name="shortwaved"></app-svg-icon>
              <app-svg-icon folder="hair" name="sides"></app-svg-icon>
              <app-svg-icon folder="hair" name="straigh01"></app-svg-icon>
              <app-svg-icon folder="hair" name="straigh02"></app-svg-icon>
              <app-svg-icon
                folder="hair"
                name="straightandstrand"
              ></app-svg-icon>
              <!-- <div [innerHTML]="getSVGImage()"></div> -->
            </div>
          </div>
        </div>
        <div
          *ngIf="
            hairType.name === HairTypes.FRIDA ||
            hairType.name === HairTypes.FROANDBAND
          "
        >
          <h4>{{ texts.accessory }}</h4>
          <input type="color" [(ngModel)]="colors.accessory" />
          <button (click)="colors.accessory = randomizeColor()">
            <div class="random small"></div>
          </button>
        </div>
      </div>

      <div *ngIf="displayClothes" class="box">
        <div class="flex-column">
          <div>
            <input type="color" [(ngModel)]="colors.clothes" />
            <button (click)="colors.clothes = randomizeColor()">
              <div class="random small"></div>
            </button>
          </div>
          <div class="flex-column">
            <div>
              <span class="iteration"
                >{{ texts.clothing }} {{ clothing.index }}</span
              >
            </div>
            <div>
              <button (click)="iterateOverClothingTypes(false)" class="iterate">
                <
              </button>
              <button (click)="iterateOverClothingTypes(true)" class="iterate">
                >
              </button>
            </div>
            <div class="avatar-choice">
              <app-svg-icon folder="clothes" name="blazer_shirt"></app-svg-icon>
              <app-svg-icon
                folder="clothes"
                name="blazer_sweater"
              ></app-svg-icon>
              <app-svg-icon
                folder="clothes"
                name="collar_sweater"
              ></app-svg-icon>
              <app-svg-icon
                folder="clothes"
                name="graphic_shirt"
              ></app-svg-icon>
              <app-svg-icon folder="clothes" name="hoodie"></app-svg-icon>
              <app-svg-icon folder="clothes" name="overall"></app-svg-icon>
              <app-svg-icon
                folder="clothes"
                name="shirt_crewneck"
              ></app-svg-icon>
              <app-svg-icon
                folder="clothes"
                name="shirt_scoopneck"
              ></app-svg-icon>
              <app-svg-icon folder="clothes" name="shirt_vneck"></app-svg-icon>
              <!-- <div [innerHTML]="getSVGImage()"></div> -->
            </div>
            <button (click)="getRandomClothing()">
              <div class="random small"></div>
            </button>
          </div>
        </div>
        <ng-container *ngIf="clothing.name === ClothingTypes.GRAPHIC_SHIRT">
          <div class="flex-column">
            <h4>{{ texts.print }}</h4>
            <div>
              <input type="color" [(ngModel)]="colors.graphic" />
              <button (click)="colors.graphic = randomizeColor()">
                <div class="random small"></div>
              </button>
            </div>
            <div>
              <div>
                <span class="iteration"
                  >{{ texts.print }} {{ clothingGraphic.index }}</span
                >
              </div>
              <button
                (click)="iterateOverClothingGraphicTypes(false)"
                class="iterate"
              >
                <
              </button>
              <button
                (click)="iterateOverClothingGraphicTypes(true)"
                class="iterate"
              >
                >
              </button>
              <button (click)="getRandomClothingGraphic()">
                <div class="random small"></div>
              </button>
            </div>
            <div class="clothes-choice">
              <app-svg-icon folder="clothes/graphic" name="bar"></app-svg-icon>
              <app-svg-icon folder="clothes/graphic" name="bear"></app-svg-icon>
              <app-svg-icon folder="clothes/graphic" name="deer"></app-svg-icon>
              <app-svg-icon
                folder="clothes/graphic"
                name="diamond"
              ></app-svg-icon>
              <app-svg-icon
                folder="clothes/graphic"
                name="pizza"
              ></app-svg-icon>
              <app-svg-icon
                folder="clothes/graphic"
                name="skrull_outline"
              ></app-svg-icon>
              <app-svg-icon
                folder="clothes/graphic"
                name="skrull"
              ></app-svg-icon>
            </div>
          </div>
        </ng-container>
      </div>

      <ng-container *ngIf="enableFace && displayFace">
        <div class="box">
          <div>
            <div class="flex-column">
              <h4>{{ texts.eyebrows }}</h4>
              <div>
                <input type="color" [(ngModel)]="colors.eyebrows" />
                <button (click)="colors.eyebrows = randomizeColor()">
                  <div class="random small"></div>
                </button>
              </div>
              <div class="flex-column">
                <div>
                  <div>
                    <span class="iteration"
                      >{{ texts.eyebrows }} {{ eyebrowType.index }}</span
                    >
                  </div>
                  <button
                    (click)="iterateOverEyebrowTypes(false)"
                    class="iterate"
                  >
                    <
                  </button>
                  <button
                    (click)="iterateOverEyebrowTypes(true)"
                    class="iterate"
                  >
                    >
                  </button>
                </div>
                <div class="avatar-choice">
                  <app-svg-icon
                    folder="eye/eyebrow"
                    name="angry_natural"
                  ></app-svg-icon>
                  <app-svg-icon
                    folder="eye/eyebrow"
                    name="angry"
                  ></app-svg-icon>
                  <app-svg-icon
                    folder="eye/eyebrow"
                    name="default_natural"
                  ></app-svg-icon>
                  <app-svg-icon
                    folder="eye/eyebrow"
                    name="default"
                  ></app-svg-icon>
                  <app-svg-icon
                    folder="eye/eyebrow"
                    name="flat_natural"
                  ></app-svg-icon>
                  <app-svg-icon
                    folder="eye/eyebrow"
                    name="frown_natural"
                  ></app-svg-icon>
                  <app-svg-icon
                    folder="eye/eyebrow"
                    name="raised_excited_natural"
                  ></app-svg-icon>
                  <app-svg-icon
                    folder="eye/eyebrow"
                    name="sad_concerned_natural"
                  ></app-svg-icon>
                  <app-svg-icon
                    folder="eye/eyebrow"
                    name="sad_concerned"
                  ></app-svg-icon>
                  <app-svg-icon
                    folder="eye/eyebrow"
                    name="unibrow_natural"
                  ></app-svg-icon>
                  <app-svg-icon
                    folder="eye/eyebrow"
                    name="up_down_natural"
                  ></app-svg-icon>
                  <app-svg-icon
                    folder="eye/eyebrow"
                    name="up_down"
                  ></app-svg-icon>
                </div>
                <button (click)="getRandomEyebrowType()">
                  <div class="random small"></div>
                </button>
              </div>
            </div>
            <div class="flex-column">
              <h4>{{ texts.eyes }}</h4>
              <div>
                <ng-container *ngIf="eyeType.name !== EyeTypes.CLOSED">
                  <input type="color" [(ngModel)]="colors.eyes" />
                  <button (click)="colors.eyes = randomizeColor()">
                    <div class="random small"></div>
                  </button>
                </ng-container>
              </div>
              <div class="flex-column">
                <!-- display different possibility -->
                <div>
                  <div>
                    <span class="iteration"
                      >{{ texts.eyes }} {{ eyeType.index }}</span
                    >
                  </div>
                  <button (click)="iterateOverEyeTypes(false)" class="iterate">
                    <
                  </button>
                  <button (click)="iterateOverEyeTypes(true)" class="iterate">
                    >
                  </button>
                </div>
                <div class="avatar-choice">
                  <app-svg-icon folder="eye/eyetype" name="closed" ></app-svg-icon>
                  <app-svg-icon folder="eye/eyetype" name="cry" ></app-svg-icon>
                  <app-svg-icon folder="eye/eyetype" name="default" ></app-svg-icon>
                  <app-svg-icon folder="eye/eyetype" name="eye_roll" ></app-svg-icon>
                  <app-svg-icon folder="eye/eyetype" name="happy" ></app-svg-icon>
                  <app-svg-icon folder="eye/eyetype" name="hearts" ></app-svg-icon>
                  <app-svg-icon folder="eye/eyetype" name="side" ></app-svg-icon>
                  <app-svg-icon folder="eye/eyetype" name="squint" ></app-svg-icon>
                  <app-svg-icon folder="eye/eyetype" name="suprised" ></app-svg-icon>
                  <app-svg-icon folder="eye/eyetype" name="wink_wacky" ></app-svg-icon>
                  <app-svg-icon folder="eye/eyetype" name="wink" ></app-svg-icon>
                  <app-svg-icon folder="eye/eyetype" name="x_dizzy" ></app-svg-icon>
                </div>
                <button (click)="getRandomEyeType()">
                  <div class="random small"></div>
                </button>
              </div>
            </div>
            <h4>{{ texts.nose }}</h4>
            <div class="flex">
              <div></div>
              <div>
                <div>
                  <span class="iteration"
                    >{{ texts.nose }} {{ noseType.index }}</span
                  >
                </div>
                <button (click)="iterateOverNoseTypes(false)" class="iterate">
                  <
                </button>
                <button (click)="iterateOverNoseTypes(true)" class="iterate">
                  >
                </button>
                <button (click)="getRandomNoseType()">
                  <div class="random small"></div>
                </button>
              </div>
            </div>
            <h4>{{ texts.mouth }}</h4>
            <div class="flex">
              <div>
                <input type="color" [(ngModel)]="colors.mouth" />
                <button (click)="colors.mouth = randomizeColor()">
                  <div class="random small"></div>
                </button>
              </div>
              <div>
                <div>
                  <span class="iteration"
                    >{{ texts.mouth }} {{ mouthType.index }}</span
                  >
                </div>
                <button (click)="iterateOverMouthTypes(false)" class="iterate">
                  <
                </button>
                <button (click)="iterateOverMouthTypes(true)" class="iterate">
                  >
                </button>
                <button (click)="getRandomMouthType()">
                  <div class="random small"></div>
                </button>
              </div>
            </div>
            <h4>{{ texts.facialHair }}</h4>
            <div class="flex">
              <div>
                <input type="color" [(ngModel)]="colors.facialHair" />
                <button (click)="colors.facialHair = randomizeColor()">
                  <div class="random small"></div>
                </button>
              </div>
              <div>
                <div>
                  <span class="iteration"
                    >{{ texts.facialHair }} {{ facialHairType.index }}</span
                  >
                </div>
                <button
                  (click)="iterateOverFacialHairTypes(false)"
                  class="iterate"
                >
                  <
                </button>
                <button
                  (click)="iterateOverFacialHairTypes(true)"
                  class="iterate"
                >
                  >
                </button>
                <button (click)="getRandomFacialHairType()">
                  <div class="random small"></div>
                </button>
              </div>
            </div>
            <h4>{{ texts.glasses }}</h4>
            <div class="flex">
              <div>
                <input type="color" [(ngModel)]="colors.glasses" />
                <button (click)="colors.glasses = randomizeColor()">
                  <div class="random small"></div>
                </button>
              </div>
              <div>
                <div>
                  <span class="iteration"
                    >{{ texts.glasses }} {{ glassesType.index }}</span
                  >
                </div>
                <button
                  (click)="iterateOverGlassesTypes(false)"
                  class="iterate"
                >
                  <
                </button>
                <button (click)="iterateOverGlassesTypes(true)" class="iterate">
                  >
                </button>
                <button (click)="getRandomGlassesType()">
                  <div class="random small"></div>
                </button>
              </div>
            </div>
          </div>
        </div>
      </ng-container>
    </div>
    <div class="avatar-download">
      <ng-container *ngIf="displayDownload">
        <button
          *ngFor="let format of ['png', 'svg']"
          class="download"
          (click)="doDownload(format)"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="feather feather-download"
          >
            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
            <polyline points="7 10 12 15 17 10"></polyline>
            <line x1="12" y1="15" x2="12" y2="3"></line>
          </svg>
          <span>.{{ format }}</span>
        </button>
      </ng-container>
    </div>
  </div>
</div>
